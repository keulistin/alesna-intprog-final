{"ast":null,"code":"import { first } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@app/_services\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction LayoutComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" for Employee \", ctx_r0.displayEmployeeId, \" - \", ctx_r0.getEmployeeFullName(), \" \");\n  }\n}\nexport let LayoutComponent = /*#__PURE__*/(() => {\n  class LayoutComponent {\n    constructor(employeeService, route) {\n      this.employeeService = employeeService;\n      this.route = route;\n      this.employeeId = null;\n      this.employee = null;\n      this.displayEmployeeId = null;\n    }\n    ngOnInit() {\n      this.route.queryParams.subscribe(params => {\n        this.employeeId = params['employeeId'];\n        if (this.employeeId) {\n          this.loadEmployee();\n        }\n      });\n    }\n    loadEmployee() {\n      this.employeeService.getById(this.employeeId).pipe(first()).subscribe(employee => {\n        this.employee = employee;\n        this.displayEmployeeId = employee.employeeId;\n      });\n    }\n    getEmployeeFullName() {\n      var _a;\n      if (!((_a = this.employee) === null || _a === void 0 ? void 0 : _a.account)) return '';\n      const firstName = this.employee.account.firstName.charAt(0).toUpperCase() + this.employee.account.firstName.slice(1).toLowerCase();\n      const lastName = this.employee.account.lastName.charAt(0).toUpperCase() + this.employee.account.lastName.slice(1).toLowerCase();\n      return `${firstName} ${lastName}`;\n    }\n  }\n  LayoutComponent.ɵfac = function LayoutComponent_Factory(t) {\n    return new (t || LayoutComponent)(i0.ɵɵdirectiveInject(i1.EmployeeService), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n  LayoutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LayoutComponent,\n    selectors: [[\"ng-component\"]],\n    decls: 5,\n    vars: 1,\n    consts: [[4, \"ngIf\"], [1, \"mb-3\"]],\n    template: function LayoutComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\");\n        i0.ɵɵtext(1, \" Requests \");\n        i0.ɵɵtemplate(2, LayoutComponent_ng_container_2_Template, 2, 2, \"ng-container\", 0);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"div\", 1)(4, \"router-outlet\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.employeeId && ctx.employee);\n      }\n    },\n    dependencies: [i3.NgIf, i2.RouterOutlet],\n    encapsulation: 2\n  });\n  return LayoutComponent;\n})();","map":{"version":3,"mappings":"AAEA,SAASA,KAAK,QAAQ,gBAAgB;;;;;;;ICAlCC,6BAA6C;IACzCA,YACJ;IAAAA,0BAAe;;;;IADXA,eACJ;IADIA,2GACJ;;;ADMJ,WAAaC,eAAe;EAAtB,MAAOA,eAAe;IAKxBC,YACYC,eAAgC,EAChCC,KAAqB;MADrB,oBAAe,GAAfD,eAAe;MACf,UAAK,GAALC,KAAK;MANjB,eAAU,GAAkB,IAAI;MAChC,aAAQ,GAAoB,IAAI;MAChC,sBAAiB,GAAkB,IAAI;IAKnC;IAEJC,QAAQ;MACJ,IAAI,CAACD,KAAK,CAACE,WAAW,CAACC,SAAS,CAACC,MAAM,IAAG;QACtC,IAAI,CAACC,UAAU,GAAGD,MAAM,CAAC,YAAY,CAAC;QACtC,IAAI,IAAI,CAACC,UAAU,EAAE;UACjB,IAAI,CAACC,YAAY,EAAE;;MAE3B,CAAC,CAAC;IACN;IAEQA,YAAY;MAChB,IAAI,CAACP,eAAe,CAACQ,OAAO,CAAC,IAAI,CAACF,UAAW,CAAC,CACzCG,IAAI,CAACb,KAAK,EAAE,CAAC,CACbQ,SAAS,CAACM,QAAQ,IAAG;QAClB,IAAI,CAACA,QAAQ,GAAGA,QAAQ;QACxB,IAAI,CAACC,iBAAiB,GAAGD,QAAQ,CAACJ,UAAU;MAChD,CAAC,CAAC;IACV;IAEAM,mBAAmB;;MACf,IAAI,EAAC,UAAI,CAACF,QAAQ,0CAAEG,OAAO,GAAE,OAAO,EAAE;MACtC,MAAMC,SAAS,GAAG,IAAI,CAACJ,QAAQ,CAACG,OAAO,CAACC,SAAS,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAG,IAAI,CAACN,QAAQ,CAACG,OAAO,CAACC,SAAS,CAACG,KAAK,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE;MAClI,MAAMC,QAAQ,GAAG,IAAI,CAACT,QAAQ,CAACG,OAAO,CAACM,QAAQ,CAACJ,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAG,IAAI,CAACN,QAAQ,CAACG,OAAO,CAACM,QAAQ,CAACF,KAAK,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE;MAC/H,OAAO,GAAGJ,SAAS,IAAIK,QAAQ,EAAE;IACrC;;;qBAjCSrB,eAAe;EAAA;;UAAfA,eAAe;IAAAsB;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCV5B3B,0BAAI;QACAA,0BACA;QAAAA,kFAEe;QACnBA,iBAAK;QAELA,yBACM;;;QANaA,eAA4B;QAA5BA,qDAA4B;;;;;;SDQlCC,eAAe;AAAA","names":["first","i0","LayoutComponent","constructor","employeeService","route","ngOnInit","queryParams","subscribe","params","employeeId","loadEmployee","getById","pipe","employee","displayEmployeeId","getEmployeeFullName","account","firstName","charAt","toUpperCase","slice","toLowerCase","lastName","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\xampp\\htdocs\\groupB-fullstack-app\\frontend\\src\\app\\requests\\layout.component.ts","C:\\xampp\\htdocs\\groupB-fullstack-app\\frontend\\src\\app\\requests\\layout.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { first } from 'rxjs/operators';\r\n\r\nimport { AccountService, EmployeeService } from '@app/_services';\r\nimport { Employee } from '@app/_models/employee';\r\n\r\n@Component({\r\n    templateUrl: 'layout.component.html'\r\n})\r\nexport class LayoutComponent implements OnInit {\r\n    employeeId: string | null = null;\r\n    employee: Employee | null = null;\r\n    displayEmployeeId: string | null = null;\r\n\r\n    constructor(\r\n        private employeeService: EmployeeService,\r\n        private route: ActivatedRoute\r\n    ) { }\r\n\r\n    ngOnInit() {\r\n        this.route.queryParams.subscribe(params => {\r\n            this.employeeId = params['employeeId'];\r\n            if (this.employeeId) {\r\n                this.loadEmployee();\r\n            }\r\n        });\r\n    }\r\n\r\n    private loadEmployee() {\r\n        this.employeeService.getById(this.employeeId!)\r\n            .pipe(first())\r\n            .subscribe(employee => {\r\n                this.employee = employee;\r\n                this.displayEmployeeId = employee.employeeId;\r\n            });\r\n    }\r\n\r\n    getEmployeeFullName(): string {\r\n        if (!this.employee?.account) return '';\r\n        const firstName = this.employee.account.firstName.charAt(0).toUpperCase() + this.employee.account.firstName.slice(1).toLowerCase();\r\n        const lastName = this.employee.account.lastName.charAt(0).toUpperCase() + this.employee.account.lastName.slice(1).toLowerCase();\r\n        return `${firstName} ${lastName}`;\r\n    }\r\n} ","<h1>\r\n    Requests\r\n    <ng-container *ngIf=\"employeeId && employee\">\r\n        for Employee {{displayEmployeeId}} - {{getEmployeeFullName()}}\r\n    </ng-container>\r\n</h1>\r\n\r\n<div class=\"mb-3\">\r\n</div>\r\n\r\n<router-outlet></router-outlet>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}